<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
        <title>Quartz Management</title>
        <style type="text/css">
            body  
            {
                background: #1c1a1c; 
                color: #ffffff; 
                font-family: Verdana;
            }
            
            .jobGroupTable  
            {
                background: #2c2b2c; 
                border: 3px solid #6e7d8d; 
                border-radius: 5px; 
                box-shadow: 2px 2px 1px #CCCCCC;  
                font-size: 11px;
            }
            
            .jobGroupTitle
            {
                text-align: left; 
                font-size: 13px; 
                border: 1px solid #812c06;
                border-radius: 5px;
                background-color: #812c06;
            }
            
            .odd  
            {
                background: #343234; 
                color: #ffffff; 
            }
            
            .jobTitle 
            {
                font-size: 12px;
            }
        </style>
        <script src="/Contents/jquery-1.7.1.min.js" type="text/javascript"></script>
        <script src="/Contents/jquery-ui-1.8.16.custom.min.js" type="text/javascript"></script>
        <script src="/Contents/jquery.tmpl.min.js" type="text/javascript"></script>
        <script src="/Contents/knockout-1.2.1.js" type="text/javascript"></script>
</head>
<body>
	<div id="accordion" data-bind="template: 'jobGroups'"></div>

	<script type="text/x-jquery-tmpl" id="jobGroups">
		{{each jobGroupCollection}}
		  <h3 cclass="jobGroupTitle"><a href="#"> Job Group: ${ groupName }</a></h3>
		  <div>
			<table border="0" cellspacing="0" cellpadding="5" cclass="jobGroupTable">
			  <tr>
				<th>Job Name</th>
				<th>description</th>
				<th>Requests<br>Recovery</th>
				<th>Store<br>Durable</th>
				<th>Job Type</th>
				<th>Persist JobData<br>After Execution</th>
				<th>Concurrent<br>ExecutionAllowed</th>
				<th></th>
			  </tr>
			  {{each jobs}}
			  <tr>
				<td>${jobName}</td>
				<td>${description}</td>
				<td>${requestsRecovery}</td>
				<td>${storeDurable}</td>
				<td>${jobType}</td>
				<td>${persistJobDataAfterExecution}</td>
				<td>${concurrentExecutionAllowed}</td>
				<td><a href="/FireJob/${jobGroup}/${jobName}">Fire Job</a></td>
				
			  </tr>
			  {{/each}}
			</table>
			</div>
		{{/each}}
	</script>
		
	<script type="text/javascript">
	    var jobGroup = function (name, jobModels) {
	        this.groupName = name;
	        this.jobs = jobModels;
	    }

	    var jobModel = function (jobName, jobGroup, description, requestsRecovery, storeDurable, jobType, persistJobDataAfterExecution, concurrentExecutionAllowed) {
	        this.jobName = jobName;
	        this.jobGroup = jobGroup;
	        this.description = description;
	        this.requestsRecovery = requestsRecovery;
	        this.storeDurable = storeDurable;
	        this.jobType = jobType;
	        this.persistJobDataAfterExecution = persistJobDataAfterExecution;
	        this.concurrentExecutionAllowed = concurrentExecutionAllowed;
	    }

	    var jobGroups = [{ groupName: "group1"}];

	    var scheduler = {
	        jobGroupCollection: ko.observableArray(
		   [
				new jobGroup("group1", [
					new jobModel("job 1", "group1", "first job", true, false, "QuartzWeb.HelloWorld", true, false),
					new jobModel("job 2", "group1", "second job", false, true, "Quartz.SecondJob", false, true)
				]),
				new jobGroup("group2", [
					new jobModel("job 3", "group2", "first job", true, false, "QuartzWeb.HelloWorld", true, false),
					new jobModel("job 4", "group2", "second job", false, true, "Quartz.SecondJob", false, true)
				]),

			])
	    };

	    // Activates knockout.js
	    ko.applyBindings(scheduler);

	    //$(document).ready(function () { $("tr:odd").addClass("odd"); });

	    $(document).ready(function () { $("#accordion").accordion({ collapsible: true }); $('.accordion .head').hide(); });
			

	</script>		

</body></html>