<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
        <title>Quartz Management</title>
        <style type="text/css">
            body  
            {
                background: #1c1a1c; 
                color: #ffffff; 
                font-family: Verdana;
            }
            
            .jobGroupDiv
            {
                border: 3px solid #6e7d8d; 
            }
            
            .jobGroupTable  
            {
                background: #2c2b2c; 
                border: 3px solid #6e7d8d; 
                border-radius: 5px; 
                box-shadow: 2px 2px 1px #CCCCCC;  
                font-size: 11px;
            }
            
            .jobGroupTitle
            {
                text-align: left; 
                font-size: 13px; 
                border: 1px solid #812c06;
                border-radius: 5px;
                background-color: #812c06;
            }
            
            .odd  
            {
                background: #343234; 
                color: #ffffff; 
            }
            
            .jobTitle 
            {
                font-size: 12px;
            }
        </style>
        <script src="/Contents/jquery-1.7.1.min.js" type="text/javascript"></script>
        <script src="/Contents/jquery-ui-1.8.16.custom.min.js" type="text/javascript"></script>
        <script src="/Contents/jquery.tmpl.min.js" type="text/javascript"></script>
        <script src="/Contents/knockout-1.2.1.js" type="text/javascript"></script>
</head>
<body>
	<div id="accordion" data-bind="template: 'jobGroups'"></div>

	<script type="text/x-jquery-tmpl" id="jobGroups">
		{{each JobGroups}}
          <div class="jobGroupDiv">
		  <h3 cclass="jobGroupTitle"><a href="#"> Job Group: ${ GroupName }</a></h3>
		  <div>
			<table border="0" cellspacing="0" cellpadding="5" cclass="jobGroupTable">
			  <tr>
				<th>Job Name</th>
				<th>description</th>
				<th>Requests<br>Recovery</th>
				<th>Store<br>Durable</th>
				<th>Job Type</th>
				<th>Persist JobData<br>After Execution</th>
				<th>Concurrent<br>ExecutionAllowed</th>
				<th></th>
			  </tr>
			  {{each Jobs}}
			  <tr>
				<td>${JobName}</td>
				<td>${Description}</td>
				<td>${RequestsRecovery}</td>
				<td>${StoreDurable}</td>
				<td>${JobType}</td>
				<td>${PersistJobDataAfterExecution}</td>
				<td>${ConcurrentExecutionAllowed}</td>
				<td><a href="/FireJob/${JobGroup}/${JobName}">Fire Job</a></td>
			  </tr>
			  {{/each}}
			</table>
			</div>
          </div>
		{{/each}}
	</script>


		
	<script type="text/javascript">

	    $(document).ready(function () { setInterval(loadData, 2000); });

        function loadData() {
            $.getJSON("/JobData", function (data) { ko.applyBindings(data); });
        }

	</script>		

</body></html>